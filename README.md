Face Biometric Login/Registration (Webcam + Firebase) üì∏A client-side web application for real-time face recognition, utilizing the user's webcam for biometric input and Firebase Firestore for securely storing face descriptors (embeddings).‚ú® FeaturesReal-Time Face Detection: Uses face-api.js to detect faces, landmarks, and descriptors in a live webcam feed.Biometric Registration: Captures the current user's face descriptor and saves it to a Firestore database tied to their Anonymous Firebase User ID.Face Recognition/Login: Compares the live face descriptor against all registered descriptors in the database to identify a known user.Cross-Session Persistence: Registered face data is stored in Firebase, allowing recognition across different sessions and devices.Visual Feedback: Overlays a bounding box on the face with status (Detecting, Registered, Recognized, Unknown).Modern UI: Built with Tailwind CSS for a clean, responsive interface.üöÄ Getting StartedThis project is a standalone HTML file that relies on external CDN links for all dependencies.PrerequisitesYou only need a modern web browser that supports the Webcam API (getUserMedia) and ES Modules.Setup and RunningFirebase Project: Create a new project in the [Firebase Console].Enable Services:Go to Authentication and enable the Anonymous sign-in method.Go to Firestore Database and create a new database.Update Configuration: Replace the placeholder YOUR_FIREBASE_CONFIG block in the <script type="module"> section of the index.html file with your actual project credentials:JavaScriptconst YOUR_FIREBASE_CONFIG = {
apiKey: "YOUR_API_KEY", ¬† ¬† ¬† ¬† ¬†
authDomain: "YOUR_AUTH_DOMAIN",
projectId: "YOUR_PROJECT_ID", ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†
// ... other fields
};
Set Firestore Security Rules: For the application to read and write descriptors, you must update your Firestore rules. The application uses a collection path: /artifacts/{appId}/public/data/face_descriptors.Recommended (Minimal) Rules for Testing:Code snippetrules_version = '2';
service cloud.firestore {
match /databases/{database}/documents {
match /artifacts/{appId}/public/data/face_descriptors/{userId} {
// Allow any authenticated user (anonymous is fine) to read and write face data
allow read, create: if request.auth != null;
// Only allow a user to update their own descriptor
allow update, delete: if request.auth.uid == userId;
}
}
}
Open the File: Serve the index.html file using a local web server (e.g., VS Code's Live Server extension, or python3 -m http.server). You cannot open it directly with file:// due to browser security restrictions on the webcam and module imports.‚öôÔ∏è How It WorksFace-api.js & ModelsThe app loads three essential models from the face-api.js library:ssdMobilenetv1: Used for Face Detection (finding the face's bounding box).faceLandmark68Net: Used for mapping 68 facial landmark points.faceRecognitionNet: Used to generate the 128-dimension face descriptor (a unique biometric vector).Data Persistence (Firestore)Initialization: The app signs in the user anonymously with Firebase Auth. The unique user.uid becomes the identity for registration.Registration: When the Register This Face button is clicked, the current face descriptor is captured, serialized (converted to a JSON string), and saved to Firestore under a document matching the user's uid.Recognition: The setupDataListener function listens to the Firestore collection and dynamically creates a faceapi.FaceMatcher object from all registered descriptors. When Recognize Face is clicked, the live face descriptor is compared against the FaceMatcher to find the closest match.Data Structure in FirestoreCollection PathDocument IDFieldsartifacts/{projectId}/public/data/face_descriptors[userId] (e.g., sFj2a...)userId: String (The UID)descriptor: String (The JSON-serialized Float32Array)timestamp: String (Registration time)‚ö†Ô∏è Critical Note on DeploymentSecurity: This application is for demonstration purposes. Storing biometric descriptors is a sensitive operation. For a production environment, you should use a more secure method than public Firestore documents and consider encrypting the descriptors.Model Hosting: The models are loaded via CDN: https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@0.22.2/weights. If this link becomes unavailable, the application will fail. For production, always host the model weights locally on your own server.Anonymous Authentication: The current setup uses Anonymous Auth. Once a user clears their browser storage, they will get a new userId and must re-register their face. For a persistent solution, use Email/Password or Google Sign-in to link the face descriptor to a permanent user account.üìú LicenseThis project is open-source and released under the MIT License.
